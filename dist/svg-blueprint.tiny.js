/**
 * Modules in this bundle
 * @license
 *
 * svg-blueprint:
 *   license: MIT (http://opensource.org/licenses/MIT)
 *   author: SÃ©bastien Mischler <sebastien@onlfait.ch>
 *   homepage: https://github.com/onlfait/svg-blueprint
 *   version: 0.2.0
 *
 * This header is generated by licensify (https://github.com/twada/licensify)
 */
!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;((e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).svgBlueprint||(e.svgBlueprint={})).js=t()}}(function(){var t={};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={width:"400px",height:"300px",parentElement:null,parentSelector:"body",className:"svg-blueprint",backgroundColor:"#3177C6",gridColor:"#fff",gridOpacity:.3,cursorColor:"#0b64c4",cursorOpacity:1,axisColor:"#f4b916",axisOpacity:.5,nonScalingStroke:!0,strokeWidth:2,zoomFactor:.05,zoomDirection:1,zoomLimit:{min:1e-4,max:1e4},fitPadding:42,stroke:"#fff",fill:"none"};var e={};function n(t,e){return t.replace(/(\{\{([^}]+)\}\})/g,function(t,n,i){return e[i]||n})}function i(t){var e={},n=document.createElement("div");n.innerHTML=t.trim();var i=n.querySelectorAll("[data-key]");return Array.prototype.forEach.call(i,function(t){e[t.getAttribute("data-key")]=t}),e}function r(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return i(e?n(t,e):t)}Object.defineProperty(e,"__esModule",{value:!0}),e.templateFactory=function(t){return function(e){return r(t,e)}};var o={};Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var s=(0,e.templateFactory)('\n<div data-key="blueprint" class="{{className}} {{className}}-{{uid}}" style="width: {{width}}; height: {{height}};">\n\n  <svg data-key="canvas" class="{{className}}-grid" style="position: relative; width: 100%; height: 100%; overflow: hidden;" xmlns="http://www.w3.org/2000/svg">\n    <defs>\n      <pattern id="gridPattern10" width="0.1" height="0.1">\n        <path data-key="gridPattern10" d="M 10 0 L 0 0 0 10" fill="none" stroke="{{gridColor}}" stroke-width="0.1" />\n      </pattern>\n      <pattern id="gridPattern100" width="1" height="1">\n        <path data-key="gridPattern100" d="M 100 0 L 0 0 0 100" fill="none" stroke="{{gridColor}}" stroke-width="1" />\n      </pattern>\n      <pattern data-key="gridPattern" id="gridPattern" width="100" height="100" patternUnits="userSpaceOnUse">\n        <rect data-key="gridFill10" fill="url(#gridPattern10)" width="100" height="100" />\n        <rect data-key="gridFill100" fill="url(#gridPattern100)" width="100" height="100" opacity="{{gridOpacity}}" />\n      </pattern>\n    </defs>\n    <rect data-key="background" class="{{className}}-background" width="100%" height="100%" fill="{{backgroundColor}}" />\n    <rect data-key="grid" class="{{className}}-grid" width="100%" height="100%" fill="url(#gridPattern)" />\n    <g data-key="axis" class="{{className}}-axis" style="opacity: {{axisOpacity}};">\n      <line data-key="axisX" x1="0" y1="0" x2="100%" y2="0" stroke="{{axisColor}}" stroke-width="1" transform="translate(0 0)" />\n      <line data-key="axisY" x1="0" y1="0" x2="0" y2="100%" stroke="{{axisColor}}" stroke-width="1" transform="translate(0 0)" />\n    </g>\n    <g data-key="cursor" class="{{className}}-cursor" style="opacity: {{cursorOpacity}}; display: none;">\n      <line data-key="cursorX" x1="0" y1="0" x2="100%" y2="0" stroke="{{cursorColor}}" stroke-width="1" transform="translate(0 0)" />\n      <line data-key="cursorY" x1="0" y1="0" x2="0" y2="100%" stroke="{{cursorColor}}" stroke-width="1" transform="translate(0 0)" />\n    </g>\n\n    <svg\n      data-key="workspace"\n      class="{{className}}-workspace"\n      width="1"\n      height="1"\n      viewBox="0 0 1 1"\n      style="position: absolute; overflow: visible; fill: {{fill}}; stroke: {{stroke}}; stroke-width: {{strokeWidth}};"\n      xmlns="http://www.w3.org/2000/svg">\n\n      <g data-key="bbox"></g>\n\n    </svg>\n\n  </svg>\n\n</div>\n');o.default=s;var a,l={};Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var u={blueprint:((a=o)&&a.__esModule?a:{default:a}).default};l.default=u;var c={};function h(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var p=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),Array.isArray(e)?(n=e[1]||0,e=e[0]||0):void 0!==e.x&&(n=e.y||0,e=e.x||0),this.x=parseFloat(e),this.y=parseFloat(n)}var e,n;return e=t,(n=[{key:"add",value:function(e){var n=new t(e);return new t(this.x+n.x,this.y+n.y)}},{key:"sub",value:function(e){var n=new t(e);return new t(this.x-n.x,this.y-n.y)}},{key:"mult",value:function(e){var n=new t(e,e);return new t(this.x*n.x,this.y*n.y)}},{key:"div",value:function(e){var n=new t(e,e);return new t(this.x/n.x,this.y/n.y)}},{key:"neg",value:function(){return new t(-this.x,-this.y)}},{key:"distance",value:function(t){var e=this.sub(t),n=e.mult(e);return Math.sqrt(n.x+n.y)}},{key:"midpoint",value:function(e){return this.add(new t(e).sub(this).mult(.5))}},{key:"toArray",value:function(){return[this.x,this.y]}},{key:"clone",value:function(){return new t(this.x,this.y)}}])&&h(e.prototype,n),t}();c.default=p;var d={};Object.defineProperty(d,"__esModule",{value:!0}),d.setStyle=w,d.setAttribute=k,d.setTransform=b,d.createSVGElement=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=null;"<"===t.charAt(0)?n=P('<svg xmlns="'.concat(f,'">').concat(t,"</svg>")).documentElement.firstChild:n=document.createElementNS(f,t);return null!==e&&k(n,e),n},d.addEvent=m;var f="http://www.w3.org/2000/svg",v=!1;try{var y=Object.defineProperty({},"passive",{get:function(){return v=!0}});window.addEventListener("testPassive",null,y),window.removeEventListener("testPassive",null,y)}catch(ot){}function g(t,e,n){var i=!!v&&{passive:!0},r=e;"string"==typeof r&&(r=r.trim().split(/[\s,]+/)),r.forEach(function(e){null===n?t.removeEventListener(e,n,i):t.addEventListener(e,n,i)})}function m(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if("string"!=typeof e)for(var i=0,r=Object.keys(e);i<r.length;i++){var o=r[i];g(t,o,e[o])}else g(t,e,n)}function w(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if("string"!=typeof e)for(var i=0,r=Object.keys(e);i<r.length;i++){var o=r[i];w(t,o,e[o])}else null===n?t.style.removeProperty(e):t.style.setProperty(e,n)}function b(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null!==e){var i=t.getAttribute("transform")||"",r={};"string"==typeof e?r[e]=n:r=e;for(var o=0,s=Object.keys(r);o<s.length;o++){var a=s[o],l=r[a];i=i.replace(new RegExp("".concat(a,"\\([^)]+\\)"),"g"),""),null!==l&&(Array.isArray(l)?i+="".concat(a,"(").concat(l.join(" "),") "):i+="".concat(a,"(").concat(l,") "))}k(t,"transform",i=i.replace(/\s+/," ").trim())}else k(t,"transform",null)}function k(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if("string"!=typeof e)for(var i=0,r=Object.keys(e);i<r.length;i++){var o=r[i];"style"===o?w(t,e[o]):"event"===o?m(t,e[o]):"transform"===o?b(t,e[o]):k(t,o,e[o])}else null===n?t.removeAttribute(e):t.setAttribute(e,n)}function P(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"application/xml";return(new DOMParser).parseFromString(t,e)}var x={};function O(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var j=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),Array.isArray(e)?(n=e[1]||0,e=e[0]||0):void 0!==e.x&&(n=e.y||0,e=e.x||0),this.x=parseFloat(e),this.y=parseFloat(n)}var e,n;return e=t,(n=[{key:"add",value:function(e){var n=new t(e);return new t(this.x+n.x,this.y+n.y)}},{key:"sub",value:function(e){var n=new t(e);return new t(this.x-n.x,this.y-n.y)}},{key:"mult",value:function(e){var n=new t(e,e);return new t(this.x*n.x,this.y*n.y)}},{key:"div",value:function(e){var n=new t(e,e);return new t(this.x/n.x,this.y/n.y)}},{key:"neg",value:function(){return new t(-this.x,-this.y)}},{key:"distance",value:function(t){var e=this.sub(t),n=e.mult(e);return Math.sqrt(n.x+n.y)}},{key:"midpoint",value:function(e){return this.add(new t(e).sub(this).mult(.5))}},{key:"toArray",value:function(){return[this.x,this.y]}},{key:"clone",value:function(){return new t(this.x,this.y)}}])&&O(e.prototype,n),t}();x.default=j;var C={};Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var S,E=(S=x)&&S.__esModule?S:{default:S};function T(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var M=function(){function t(e){!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this.event=e,this.id=e.pointerId,this.position=new E.default,this.movement=new E.default,this.distance=0,this.down=!1,this.downTime=0,this.upTime=0,this.tapCount=0,this.tapDuration=0,this.panning=!1,this.panDistance=0,this.panStartPosition=0,this.panOffsets=new E.default,this.pinch=null,this.pinchRatio=1,this.pinchDistance=0,this.pinchMidpoint=0,this.pinchOffset=0}var e,n;return e=t,(n=[{key:"clone",value:function(){for(var t={},e=0,n=Object.keys(this);e<n.length;e++){var i=n[e],r=this[i];r&&r instanceof E.default&&(r=r.clone()),t[i]=r}return t}}])&&T(e.prototype,n),t}();C.default=M;var _={};Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var A=D(C),z=D(x);function D(t){return t&&t.__esModule?t:{default:t}}function R(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function F(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function L(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var N={panThreshold:10,tapThreshold:200,tapTimeout:500},W=["pointerover","pointerenter","pointerdown","pointermove","pointerup","pointercancel","pointerout","pointerleave","gotpointercapture","lostpointercapture"],B=function(){function t(e){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this.target=e,this.settings=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?R(n,!0).forEach(function(e){F(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):R(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},N,{},i),this.callbacks=[],this.pointers=new Map,this.tapCount=0,this.tapTimeout=null,this.wheelTimeout=null,(0,d.setStyle)(e,"touch-action","none"),(0,d.addEvent)(e,W.join(","),function(t){n.trackPointer(t)}),(0,d.addEvent)(e,"pointerleave pointercancel lostpointercapture",function(t){n.deletePointer(t.pointerId)}),(0,d.addEvent)(e,"wheel",function(t){n.onMouseWheel(t)})}var e,n;return e=t,(n=[{key:"hasPointer",value:function(t){return this.pointers.has(t)}},{key:"getPointer",value:function(t){return this.pointers.get(t)}},{key:"setPointer",value:function(t){this.pointers.set(t.id,t)}},{key:"deletePointer",value:function(t){this.pointers.has(t)&&this.pointers.delete(t)}},{key:"getPosition",value:function(t){var e=this.target.getBoundingClientRect();return new z.default(t.pageX-e.left,t.pageY-e.top)}},{key:"tapRecognizer",value:function(t,e){var n=this;if("up"===t){var i=e.upTime-e.downTime;i>this.settings.tapThreshold||(this.tapTimeout&&clearTimeout(this.tapTimeout),e.tapCount=++this.tapCount,e.tapDuration=i,1===this.tapCount&&this.emit("tap.start",e.clone()),this.emit("tap",e.clone()),this.tapTimeout=setTimeout(function(){n.emit("tap.end",e.clone()),n.tapCount=0},this.settings.tapTimeout))}}},{key:"panRecognizer",value:function(t,e){"move"!==t?"down"!==t?-1===["up","leave","cancel","lostcapture"].indexOf(t)||e.panStartPosition&&(e.panning&&this.emit("pan.end",e.clone()),e.panOffsets=new z.default,e.panStartPosition=0,e.panDistance=0,e.panning=!1):e.panStartPosition||(e.panStartPosition=e.position.clone()):e.panStartPosition&&(e.panOffsets=e.position.sub(e.panStartPosition),e.panDistance=e.panStartPosition.distance(e.position),e.panning?this.emit("pan.move",e.clone()):e.panDistance>this.settings.panThreshold&&(e.panning=!0,this.emit("pan.start",e.clone())))}},{key:"onPinch",value:function(t,e){var n=t.position.distance(e.position),i=t.position.midpoint(e.position),r=t.pinchOffset||n,o=n/t.pinchOffset;Object.assign(t,{pinchDistance:n,pinchMidpoint:i,pinchOffset:r,pinchRatio:o}),Object.assign(e,{pinchDistance:n,pinchMidpoint:i,pinchOffset:r,pinchRatio:o})}},{key:"pinchRecognizer",value:function(t,e){if("move"!==t){if("down"===t){var n=null;return this.pointers.forEach(function(t){n||!t.down||t.pinch||t.id===e.id||(n=t)}),void(n&&(n.pinch=e,e.pinch=n,this.onPinch(n,e),this.emit("pinch.start",e.clone())))}var i=function(t){t.pinch=null,t.pinchRatio=1,t.pinchDistance=0,t.pinchMidpoint=0,t.pinchOffset=0};"up"!==t||e.pinch&&(this.emit("pinch.end",e.clone()),i(e.pinch),i(e))}else e.pinch&&(this.onPinch(e,e.pinch),this.emit("pinch.move",e.clone()))}},{key:"trackPointer",value:function(t){var e=t.type.replace("pointer",""),n=this.getPointer(t.pointerId),i=this.getPosition(t);n||((n=new A.default(t)).position=i,this.setPointer(n)),"move"===e?(n.distance=n.position.distance(i),n.movement=i.sub(n.position),n.position=i):"down"===e?(n.downTime=Date.now(),n.down=!0):"up"===e&&(n.upTime=Date.now(),n.down=!1),this.emit(e,n.clone()),this.tapRecognizer(e,n),this.panRecognizer(e,n),this.pinchRecognizer(e,n)}},{key:"onMouseWheel",value:function(t){var e=this,n=t.deltaY>0?1:-1,i=new A.default(t);i.position=this.getPosition(t),i.delta=n,null===this.wheelTimeout&&this.emit("wheel.start",i),this.emit("wheel.move",i),clearTimeout(this.wheelTimeout),this.wheelTimeout=setTimeout(function(){e.wheelTimeout=null,e.emit("wheel.end",i)},120)}},{key:"on",value:function(t,e){var n=this,i=t;"string"==typeof i&&(i=i.trim().split(/[\s,]+/)),i.forEach(function(t){n.callbacks.push({type:t,func:e})})}},{key:"emit",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.callbacks.forEach(function(n){n.type!==t&&"*"!==n.type||n.func({type:t,data:e})})}}])&&L(e.prototype,n),t}();_.default=B;var Y={};Object.defineProperty(Y,"__esModule",{value:!0}),Y.default=void 0;var q=G(t),X=G(l),H=G(c),I=G(_);function G(t){return t&&t.__esModule?t:{default:t}}function U(t){return(U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function V(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function $(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?V(n,!0).forEach(function(e){J(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function J(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function K(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var Q=0,Z=!!navigator.userAgent.match(/firefox/i),tt=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this.uid=Q++,this.settings=$({},q.default,{},n),this.parent=function(t){var e,n=t.parentElement,i=t.parentSelector;if(null!==n){if(!(n instanceof Element))throw new Error("Option { parentElement } must be of type Element.");return n}if(!(e=document.querySelector(i)))throw new Error("No parent found with the selector [ ".concat(i," ]"));return e}(this.settings),this.elements=X.default.blueprint($({},this.settings,{uid:Q})),this.position=new H.default(0,0),this.cursor=new H.default(0,0),this.scale=1,this.gridSize=100,this.pointers=new I.default(this.parent),this.parent.appendChild(this.elements.blueprint),this.pointers.on("tap.end",function(t){2===t.data.tapCount&&e.fit()});var i=null;this.pointers.on("pan.start",function(t){null===i&&(i=t.data.id,e.pan(t.data.panOffsets),e.updateCursorPosition({position:t.data.position,show:!0}))}),this.pointers.on("pan.move",function(t){i===t.data.id&&(e.pan(t.data.movement),e.updateCursorPosition({position:t.data.position,show:!0}))}),this.pointers.on("pan.end",function(t){i===t.data.id&&(e.hide("cursor"),i=null)});var r=null,o=null;this.pointers.on("pinch.start",function(t){i=null,r=1,o=t.data.pinchMidpoint,e.updateCursorPosition({position:o,show:!0})}),this.pointers.on("pinch.move",function(t){i=null,e.zoom({ratio:e.scale+t.data.pinchRatio-r,target:o}),r=t.data.pinchRatio,e.updateCursorPosition({position:o,show:!0})}),this.pointers.on("pinch.end",function(){e.hide("cursor")}),this.pointers.on("wheel.start",function(t){e.updateCursorPosition({position:t.data.position,show:!0})}),this.pointers.on("wheel.move",function(t){e.zoom({delta:t.data.delta,target:t.data.position}),e.updateCursorPosition({position:t.data.position,show:!0})}),this.pointers.on("wheel.end",function(){e.hide("cursor")})}var e,n;return e=t,(n=[{key:"show",value:function(t){var e=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];Array.isArray(t)||(t=t.split(/[\s,]+/)),t.forEach(function(t){e.elements[t]&&(0,d.setStyle)(e.elements[t],"display",n?null:"none")})}},{key:"hide",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.show(t,!e)}},{key:"redraw",value:function(){(0,d.setTransform)(this.elements.axisX,"translate",[0,-this.position.y]),(0,d.setTransform)(this.elements.axisY,"translate",[-this.position.x,0]),(0,d.setTransform)(this.elements.cursorX,"translate",[0,this.cursor.y]),(0,d.setTransform)(this.elements.cursorY,"translate",[this.cursor.x,0]),(0,d.setAttribute)(this.elements.gridPattern,"patternTransform","translate(".concat(-this.position.x,", ").concat(-this.position.y,")"));var t={width:this.gridSize,height:this.gridSize},e="M ".concat(this.gridSize," 0 L 0 0 0 ").concat(this.gridSize);if((0,d.setAttribute)(this.elements.gridFill10,t),(0,d.setAttribute)(this.elements.gridFill100,t),(0,d.setAttribute)(this.elements.gridPattern,t),(0,d.setAttribute)(this.elements.gridPattern10,"d",e),(0,d.setAttribute)(this.elements.gridPattern100,"d",e),!0===this.settings.nonScalingStroke){var n=this.settings.strokeWidth/this.scale;(0,d.setStyle)(this.elements.workspace,"stroke-width",n)}if((0,d.setAttribute)(this.elements.workspace,"viewBox",[this.position.x/this.scale,this.position.y/this.scale,1/this.scale,1/this.scale]),Z){var i=this.elements.workspace.cloneNode(!0);this.elements.canvas.replaceChild(i,this.elements.workspace),this.elements.bbox=i.querySelector('[data-key="bbox"]'),this.elements.workspace=i}}},{key:"updateCursorPosition",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.position,n=t.show,i=void 0!==n&&n;this.cursor=new H.default(e),this.show("cursor",i),this.redraw()}},{key:"move",value:function(t){this.position=new H.default(t),this.redraw()}},{key:"pan",value:function(t){this.position=this.position.sub(t),this.redraw()}},{key:"getWorkspaceCenter",value:function(){return new H.default(this.elements.blueprint.offsetWidth/2,this.elements.blueprint.offsetHeight/2)}},{key:"zoom",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.scale;"object"!==U(t)&&(t={ratio:t}),null!==(t=$({ratio:1,delta:null,target:null},t)).delta?(t.delta*=this.settings.zoomDirection,this.scale+=t.delta*this.settings.zoomFactor*this.scale):this.scale=t.ratio,this.scale<this.settings.zoomLimit.min?this.scale=this.settings.zoomLimit.min:this.scale>this.settings.zoomLimit.max&&(this.scale=this.settings.zoomLimit.max);var n=this.scale.toString().replace(".","").replace(/e.*/,"").replace(/^0+/,"").replace(/^([1-9])/,"$1.");this.gridSize=100*parseFloat(n),t.target=t.target?new H.default(t.target):this.getWorkspaceCenter();var i=t.target.div(e).add(this.position.div(e));this.position=new H.default(i.x*this.scale-t.target.x,i.y*this.scale-t.target.y),this.redraw()}},{key:"center",value:function(){this.move(this.getWorkspaceCenter().neg())}},{key:"fit",value:function(){var t=this.elements.bbox.getBoundingClientRect(),e=t.width/this.scale,n=t.height/this.scale;if(e&&n){var i=2*this.settings.fitPadding,r=(this.elements.blueprint.offsetWidth-i)/e,o=(this.elements.blueprint.offsetHeight-i)/n,s=Math.min(r,o);this.zoom(s);var a=this.elements.blueprint.getBoundingClientRect();t=this.elements.bbox.getBoundingClientRect(),e=(a.width-t.width)/2,n=(a.height-t.height)/2,this.pan({x:-t.left+a.left+e,y:-t.top+a.top+n})}else this.center()}},{key:"createElement",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,d.createSVGElement)(t,$({"stroke-width":null,stroke:this.settings.stroke,fill:this.settings.fill,style:{"stroke-width":null,stroke:null,fill:null}},e))}},{key:"append",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.createElement(t,e);return this.elements.bbox.appendChild(n),n}}])&&K(e.prototype,n),t}();Y.default=tt;var et={};Object.defineProperty(et,"__esModule",{value:!0}),Object.defineProperty(et,"settings",{enumerable:!0,get:function(){return nt.default}}),Object.defineProperty(et,"Blueprint",{enumerable:!0,get:function(){return it.default}});var nt=rt(t),it=rt(Y);function rt(t){return t&&t.__esModule?t:{default:t}}return et});