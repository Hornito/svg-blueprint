/**
 * Modules in this bundle
 * @license
 *
 * svg-blueprint:
 *   license: MIT (http://opensource.org/licenses/MIT)
 *   author: SÃ©bastien Mischler <sebastien@onlfait.ch>
 *   homepage: https://github.com/onlfait/svg-blueprint
 *   version: 0.2.0
 *
 * This header is generated by licensify (https://github.com/twada/licensify)
 */
require=function(t){var e=function e(n,i){return e.m.hasOwnProperty(n)?e.m[n]:"function"!=typeof t||i?"function"==typeof e.r?e.r(n,1):void 0:t(n,1)};e.m={},e.r=t;var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;n.default={width:"400px",height:"300px",parentElement:null,parentSelector:"body",className:"svg-blueprint",backgroundColor:"#3177C6",gridColor:"#fff",gridOpacity:.3,cursorColor:"#0b64c4",cursorOpacity:1,axisColor:"#f4b916",axisOpacity:.5,nonScalingStroke:!0,strokeWidth:2,zoomFactor:.05,zoomDirection:1,zoomLimit:{min:1e-4,max:1e4},fitPadding:42,stroke:"#fff",fill:"none",statusbarStyle:{left:"5px",bottom:"5px",padding:"5px",color:"#222","background-color":"#fff","border-radius":"5px","font-family":"monospace","text-transform":"uppercase"}};var i={};function r(t,e){return t.replace(/(\{\{([^}]+)\}\})/g,function(t,n,i){return e[i]||n})}function o(t){var e={},n=document.createElement("div");n.innerHTML=t.trim();var i=n.querySelectorAll("[data-key]");return Array.prototype.forEach.call(i,function(t){e[t.getAttribute("data-key")]=t}),e}function s(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return o(e?r(t,e):t)}Object.defineProperty(i,"__esModule",{value:!0}),i.templateFactory=function(t){return function(e){return s(t,e)}};var a={};Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var l=(0,i.templateFactory)('\n<div data-key="blueprint" class="{{className}} {{className}}-{{uid}}" style="position: relative; width: {{width}}; height: {{height}};">\n\n  <svg data-key="canvas" class="{{className}}-grid" style="position: relative; width: 100%; height: 100%; overflow: hidden;" xmlns="http://www.w3.org/2000/svg">\n\n    <defs>\n      <pattern id="gridPattern10" width="0.1" height="0.1">\n        <path data-key="gridPattern10" d="M 10 0 L 0 0 0 10" fill="none" stroke="{{gridColor}}" stroke-width="0.1" />\n      </pattern>\n      <pattern id="gridPattern100" width="1" height="1">\n        <path data-key="gridPattern100" d="M 100 0 L 0 0 0 100" fill="none" stroke="{{gridColor}}" stroke-width="1" />\n      </pattern>\n      <pattern data-key="gridPattern" id="gridPattern" width="100" height="100" patternUnits="userSpaceOnUse">\n        <rect data-key="gridFill10" fill="url(#gridPattern10)" width="100" height="100" />\n        <rect data-key="gridFill100" fill="url(#gridPattern100)" width="100" height="100" opacity="{{gridOpacity}}" />\n      </pattern>\n    </defs>\n\n    <rect data-key="background" class="{{className}}-background" width="100%" height="100%" fill="{{backgroundColor}}" />\n    <rect data-key="grid" class="{{className}}-grid" width="100%" height="100%" fill="url(#gridPattern)" />\n\n    <g data-key="axis" class="{{className}}-axis" style="opacity: {{axisOpacity}};">\n      <line data-key="axisX" x1="0" y1="0" x2="100%" y2="0" stroke="{{axisColor}}" stroke-width="1" transform="translate(0 0)" />\n      <line data-key="axisY" x1="0" y1="0" x2="0" y2="100%" stroke="{{axisColor}}" stroke-width="1" transform="translate(0 0)" />\n    </g>\n\n    <g data-key="cursor" class="{{className}}-cursor" style="opacity: {{cursorOpacity}}; display: none;">\n      <line data-key="cursorX" x1="0" y1="0" x2="100%" y2="0" stroke="{{cursorColor}}" stroke-width="1" transform="translate(0 0)" />\n      <line data-key="cursorY" x1="0" y1="0" x2="0" y2="100%" stroke="{{cursorColor}}" stroke-width="1" transform="translate(0 0)" />\n    </g>\n\n    <svg\n      data-key="workspace"\n      class="{{className}}-workspace"\n      width="1"\n      height="1"\n      viewBox="0 0 1 1"\n      style="position: absolute; overflow: visible; fill: {{fill}}; stroke: {{stroke}}; stroke-width: {{strokeWidth}};"\n      xmlns="http://www.w3.org/2000/svg">\n      <g data-key="bbox"></g>\n    </svg>\n\n  </svg>\n\n  <div\n    data-key="statusbar"\n    class="{{className}}-statusbar"\n    style="position: absolute;">\n    <span data-key="position">x: 0, y: 0</span> | zoom: <span data-key="zoom">100 %</span>\n  </div>\n\n</div>\n');a.default=l;var u,c={};Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var h={blueprint:((u=a)&&u.__esModule?u:{default:u}).default};c.default=h;var p={};function d(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var f=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),Array.isArray(e)?(n=e[1]||0,e=e[0]||0):void 0!==e.x&&(n=e.y||0,e=e.x||0),this.x=parseFloat(e),this.y=parseFloat(n)}var e,n;return e=t,(n=[{key:"add",value:function(e){var n=new t(e);return new t(this.x+n.x,this.y+n.y)}},{key:"sub",value:function(e){var n=new t(e);return new t(this.x-n.x,this.y-n.y)}},{key:"mult",value:function(e){var n=new t(e,e);return new t(this.x*n.x,this.y*n.y)}},{key:"div",value:function(e){var n=new t(e,e);return new t(this.x/n.x,this.y/n.y)}},{key:"neg",value:function(){return new t(-this.x,-this.y)}},{key:"distance",value:function(t){var e=this.sub(t),n=e.mult(e);return Math.sqrt(n.x+n.y)}},{key:"midpoint",value:function(e){return this.add(new t(e).sub(this).mult(.5))}},{key:"toArray",value:function(){return[this.x,this.y]}},{key:"clone",value:function(){return new t(this.x,this.y)}}])&&d(e.prototype,n),t}();p.default=f;var v={};Object.defineProperty(v,"__esModule",{value:!0}),v.setStyle=k,v.setAttribute=P,v.setTransform=x,v.createSVGElement=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=null;"<"===t.charAt(0)?n=O('<svg xmlns="'.concat(y,'">').concat(t,"</svg>")).documentElement.firstChild:n=document.createElementNS(y,t);return null!==e&&P(n,e),n},v.addEvent=b;var y="http://www.w3.org/2000/svg",m=!1;try{var g=Object.defineProperty({},"passive",{get:function(){return m=!0}});window.addEventListener("testPassive",null,g),window.removeEventListener("testPassive",null,g)}catch(at){}function w(t,e,n){var i=!!m&&{passive:!0},r=e;"string"==typeof r&&(r=r.trim().split(/[\s,]+/)),r.forEach(function(e){null===n?t.removeEventListener(e,n,i):t.addEventListener(e,n,i)})}function b(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if("string"!=typeof e)for(var i=0,r=Object.keys(e);i<r.length;i++){var o=r[i];w(t,o,e[o])}else w(t,e,n)}function k(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if("string"!=typeof e)for(var i=0,r=Object.keys(e);i<r.length;i++){var o=r[i];k(t,o,e[o])}else null===n?t.style.removeProperty(e):t.style.setProperty(e,n)}function x(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null!==e){var i=t.getAttribute("transform")||"",r={};"string"==typeof e?r[e]=n:r=e;for(var o=0,s=Object.keys(r);o<s.length;o++){var a=s[o],l=r[a];i=i.replace(new RegExp("".concat(a,"\\([^)]+\\)"),"g"),""),null!==l&&(Array.isArray(l)?i+="".concat(a,"(").concat(l.join(" "),") "):i+="".concat(a,"(").concat(l,") "))}P(t,"transform",i=i.replace(/\s+/," ").trim())}else P(t,"transform",null)}function P(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if("string"!=typeof e)for(var i=0,r=Object.keys(e);i<r.length;i++){var o=r[i];"style"===o?k(t,e[o]):"event"===o?b(t,e[o]):"transform"===o?x(t,e[o]):P(t,o,e[o])}else null===n?t.removeAttribute(e):t.setAttribute(e,n)}function O(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"application/xml";return(new DOMParser).parseFromString(t,e)}var S={};function j(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var C=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),Array.isArray(e)?(n=e[1]||0,e=e[0]||0):void 0!==e.x&&(n=e.y||0,e=e.x||0),this.x=parseFloat(e),this.y=parseFloat(n)}var e,n;return e=t,(n=[{key:"add",value:function(e){var n=new t(e);return new t(this.x+n.x,this.y+n.y)}},{key:"sub",value:function(e){var n=new t(e);return new t(this.x-n.x,this.y-n.y)}},{key:"mult",value:function(e){var n=new t(e,e);return new t(this.x*n.x,this.y*n.y)}},{key:"div",value:function(e){var n=new t(e,e);return new t(this.x/n.x,this.y/n.y)}},{key:"neg",value:function(){return new t(-this.x,-this.y)}},{key:"distance",value:function(t){var e=this.sub(t),n=e.mult(e);return Math.sqrt(n.x+n.y)}},{key:"midpoint",value:function(e){return this.add(new t(e).sub(this).mult(.5))}},{key:"toArray",value:function(){return[this.x,this.y]}},{key:"clone",value:function(){return new t(this.x,this.y)}}])&&j(e.prototype,n),t}();S.default=C;var T={};Object.defineProperty(T,"__esModule",{value:!0}),T.default=void 0;var E,M=(E=S)&&E.__esModule?E:{default:E};function _(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var z=function(){function t(e){!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this.event=e,this.id=e.pointerId,this.position=new M.default,this.movement=new M.default,this.distance=0,this.down=!1,this.downTime=0,this.upTime=0,this.tapCount=0,this.tapDuration=0,this.panning=!1,this.panDistance=0,this.panStartPosition=0,this.panOffsets=new M.default,this.pinch=null,this.pinchRatio=1,this.pinchDistance=0,this.pinchMidpoint=0,this.pinchOffset=0,this.primary=!1}var e,n;return e=t,(n=[{key:"clone",value:function(){for(var t={},e=0,n=Object.keys(this);e<n.length;e++){var i=n[e],r=this[i];r&&r instanceof M.default&&(r=r.clone()),t[i]=r}return t}}])&&_(e.prototype,n),t}();T.default=z;var A={};Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var D=F(T),R=F(S);function F(t){return t&&t.__esModule?t:{default:t}}function L(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function N(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function W(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var q={panThreshold:10,tapThreshold:200,tapTimeout:500},B=["pointerover","pointerenter","pointerdown","pointermove","pointerup","pointercancel","pointerout","pointerleave","gotpointercapture","lostpointercapture"],Y=function(){function t(e){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this.target=e,this.settings=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?L(n,!0).forEach(function(e){N(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):L(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},q,{},i),this.callbacks=[],this.pointers=new Map,this.tapCount=0,this.tapTimeout=null,this.wheelTimeout=null,(0,v.setStyle)(e,"touch-action","none"),(0,v.addEvent)(e,B.join(","),function(t){n.trackPointer(t)}),(0,v.addEvent)(e,"pointerleave pointercancel lostpointercapture",function(t){n.deletePointer(t.pointerId)}),(0,v.addEvent)(e,"wheel",function(t){n.onMouseWheel(t)})}var e,n;return e=t,(n=[{key:"hasPointer",value:function(t){return this.pointers.has(t)}},{key:"getPointer",value:function(t){return this.pointers.get(t)}},{key:"setPointer",value:function(t){this.pointers.set(t.id,t)}},{key:"deletePointer",value:function(t){this.pointers.has(t)&&this.pointers.delete(t)}},{key:"getPosition",value:function(t){var e=this.target.getBoundingClientRect();return new R.default(t.pageX-e.left,t.pageY-e.top)}},{key:"tapRecognizer",value:function(t,e){var n=this;if("up"===t){var i=e.upTime-e.downTime;i>this.settings.tapThreshold||(this.tapTimeout&&clearTimeout(this.tapTimeout),e.tapCount=++this.tapCount,e.tapDuration=i,1===this.tapCount&&this.emit("tap.start",e.clone()),this.emit("tap",e.clone()),this.tapTimeout=setTimeout(function(){n.emit("tap.end",e.clone()),n.tapCount=0},this.settings.tapTimeout))}}},{key:"panRecognizer",value:function(t,e){"move"!==t?"down"!==t?-1===["up","leave","cancel","lostcapture"].indexOf(t)||e.panStartPosition&&(e.panning&&this.emit("pan.end",e.clone()),e.panOffsets=new R.default,e.panStartPosition=0,e.panDistance=0,e.panning=!1):e.panStartPosition||(e.panStartPosition=e.position.clone()):e.panStartPosition&&(e.panOffsets=e.position.sub(e.panStartPosition),e.panDistance=e.panStartPosition.distance(e.position),e.panning?this.emit("pan.move",e.clone()):e.panDistance>this.settings.panThreshold&&(e.panning=!0,this.emit("pan.start",e.clone())))}},{key:"onPinch",value:function(t,e){var n=t.position.distance(e.position),i=t.position.midpoint(e.position),r=t.pinchOffset||n,o=n/t.pinchOffset;Object.assign(t,{pinchDistance:n,pinchMidpoint:i,pinchOffset:r,pinchRatio:o}),Object.assign(e,{pinchDistance:n,pinchMidpoint:i,pinchOffset:r,pinchRatio:o})}},{key:"pinchRecognizer",value:function(t,e){if("move"!==t){if("down"===t){var n=null;return this.pointers.forEach(function(t){n||!t.down||t.pinch||t.id===e.id||(n=t)}),void(n&&(n.pinch=e,e.pinch=n,this.onPinch(n,e),this.emit("pinch.start",e.clone())))}var i=function(t){t.pinch=null,t.pinchRatio=1,t.pinchDistance=0,t.pinchMidpoint=0,t.pinchOffset=0};"up"!==t||e.pinch&&(this.emit("pinch.end",e.clone()),i(e.pinch),i(e))}else e.pinch&&(this.onPinch(e,e.pinch),this.emit("pinch.move",e.clone()))}},{key:"trackPointer",value:function(t){var e=t.type.replace("pointer",""),n=this.getPointer(t.pointerId),i=this.getPosition(t);n||((n=new D.default(t)).primary=t.isPrimary,n.position=i,this.setPointer(n)),"move"===e?(n.distance=n.position.distance(i),n.movement=i.sub(n.position),n.position=i):"down"===e?(n.downTime=Date.now(),n.down=!0):"up"===e&&(n.upTime=Date.now(),n.down=!1),this.emit(e,n.clone()),this.tapRecognizer(e,n),this.panRecognizer(e,n),this.pinchRecognizer(e,n)}},{key:"onMouseWheel",value:function(t){var e=this,n=t.deltaY>0?1:-1,i=new D.default(t);i.position=this.getPosition(t),i.delta=n,null===this.wheelTimeout&&this.emit("wheel.start",i),this.emit("wheel.move",i),clearTimeout(this.wheelTimeout),this.wheelTimeout=setTimeout(function(){e.wheelTimeout=null,e.emit("wheel.end",i)},120)}},{key:"on",value:function(t,e){var n=this,i=t;"string"==typeof i&&(i=i.trim().split(/[\s,]+/)),i.forEach(function(t){n.callbacks.push({type:t,func:e})})}},{key:"emit",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.callbacks.forEach(function(n){n.type!==t&&"*"!==n.type||n.func({type:t,data:e})})}}])&&W(e.prototype,n),t}();A.default=Y;var X={};Object.defineProperty(X,"__esModule",{value:!0}),X.default=void 0;var H=V(n),I=V(c),G=V(p),U=V(A);function V(t){return t&&t.__esModule?t:{default:t}}function $(t){return($="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function J(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function K(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?J(n,!0).forEach(function(e){Q(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):J(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function Q(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Z(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var tt=0,et=!!navigator.userAgent.match(/firefox/i),nt=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this.uid=tt++,this.settings=K({},H.default,{},n),this.parent=function(t){var e,n=t.parentElement,i=t.parentSelector;if(null!==n){if(!(n instanceof Element))throw new Error("Option { parentElement } must be of type Element.");return n}if(!(e=document.querySelector(i)))throw new Error("No parent found with the selector [ ".concat(i," ]"));return e}(this.settings),this.elements=I.default.blueprint(K({},this.settings,{uid:tt})),this.position=new G.default(0,0),this.cursor=new G.default(0,0),this.cursorCoords=new G.default(0,0),this.scale=1,this.gridSize=100,this.pointers=new U.default(this.parent),this.parent.appendChild(this.elements.blueprint),(0,v.setStyle)(this.elements.statusbar,this.settings.statusbarStyle),this.pointers.on("move",function(t){t.data.primary&&(e.cursorCoords=e.getRelativePosition(t.data.position),e.redrawStatusbar())}),this.pointers.on("tap.end",function(t){2===t.data.tapCount&&e.fit()});var i=null;this.pointers.on("pan.start",function(t){null===i&&(i=t.data.id,e.pan(t.data.panOffsets),e.updateCursorPosition({position:t.data.position,show:!0}))}),this.pointers.on("pan.move",function(t){i===t.data.id&&(e.pan(t.data.movement),e.updateCursorPosition({position:t.data.position,show:!0}))}),this.pointers.on("pan.end",function(t){i===t.data.id&&(e.hide("cursor"),i=null)});var r=null,o=null;this.pointers.on("pinch.start",function(t){i=null,r=1,o=t.data.pinchMidpoint,e.updateCursorPosition({position:o,show:!0})}),this.pointers.on("pinch.move",function(t){i=null,e.zoom({ratio:e.scale+t.data.pinchRatio-r,target:o}),r=t.data.pinchRatio,e.updateCursorPosition({position:o,show:!0})}),this.pointers.on("pinch.end",function(){e.hide("cursor")}),this.pointers.on("wheel.start",function(t){e.updateCursorPosition({position:t.data.position,show:!0})}),this.pointers.on("wheel.move",function(t){e.zoom({delta:t.data.delta,target:t.data.position}),e.updateCursorPosition({position:t.data.position,show:!0})}),this.pointers.on("wheel.end",function(){e.hide("cursor")})}var e,n;return e=t,(n=[{key:"show",value:function(t){var e=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];Array.isArray(t)||(t=t.split(/[\s,]+/)),t.forEach(function(t){e.elements[t]&&(0,v.setStyle)(e.elements[t],"display",n?null:"none")})}},{key:"hide",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.show(t,!e)}},{key:"redrawStatusbar",value:function(){var t=Math.round(100*this.scale),e=t.toString().length-1,n=this.cursorCoords.x.toFixed(e),i=this.cursorCoords.y.toFixed(e);t<1&&(e=this.zoomLimit.min.toFixed(20).replace(/0+$/,"").length-4,t=(100*this.scale).toFixed(e)),this.elements.position.innerText="x: ".concat(n,", y: ").concat(i),this.elements.zoom.innerText="".concat(t," %")}},{key:"redraw",value:function(){(0,v.setTransform)(this.elements.axisX,"translate",[0,-this.position.y]),(0,v.setTransform)(this.elements.axisY,"translate",[-this.position.x,0]),(0,v.setTransform)(this.elements.cursorX,"translate",[0,this.cursor.y]),(0,v.setTransform)(this.elements.cursorY,"translate",[this.cursor.x,0]),(0,v.setAttribute)(this.elements.gridPattern,"patternTransform","translate(".concat(-this.position.x,", ").concat(-this.position.y,")"));var t={width:this.gridSize,height:this.gridSize},e="M ".concat(this.gridSize," 0 L 0 0 0 ").concat(this.gridSize);if((0,v.setAttribute)(this.elements.gridFill10,t),(0,v.setAttribute)(this.elements.gridFill100,t),(0,v.setAttribute)(this.elements.gridPattern,t),(0,v.setAttribute)(this.elements.gridPattern10,"d",e),(0,v.setAttribute)(this.elements.gridPattern100,"d",e),!0===this.settings.nonScalingStroke){var n=this.settings.strokeWidth/this.scale;(0,v.setStyle)(this.elements.workspace,"stroke-width",n)}if((0,v.setAttribute)(this.elements.workspace,"viewBox",[this.position.x/this.scale,this.position.y/this.scale,1/this.scale,1/this.scale]),et){var i=this.elements.workspace.cloneNode(!0);this.elements.canvas.replaceChild(i,this.elements.workspace),this.elements.bbox=i.querySelector('[data-key="bbox"]'),this.elements.workspace=i}this.redrawStatusbar()}},{key:"updateCursorPosition",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.position,n=t.show,i=void 0!==n&&n;this.cursor=new G.default(e),this.show("cursor",i),this.redraw()}},{key:"move",value:function(t){this.position=new G.default(t),this.redraw()}},{key:"pan",value:function(t){this.position=this.position.sub(t),this.redraw()}},{key:"getWorkspaceCenter",value:function(){return new G.default(this.elements.blueprint.offsetWidth/2,this.elements.blueprint.offsetHeight/2)}},{key:"getRelativePosition",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e=null===e?this.scale:e,t.div(e).add(this.position.div(e))}},{key:"zoom",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.scale;"object"!==$(t)&&(t={ratio:t}),null!==(t=K({ratio:1,delta:null,target:null},t)).delta?(t.delta*=this.settings.zoomDirection,this.scale+=t.delta*this.settings.zoomFactor*this.scale):this.scale=t.ratio,this.scale<this.settings.zoomLimit.min?this.scale=this.settings.zoomLimit.min:this.scale>this.settings.zoomLimit.max&&(this.scale=this.settings.zoomLimit.max);var n=this.scale.toString().replace(".","").replace(/e.*/,"").replace(/^0+/,"").replace(/^([1-9])/,"$1.");this.gridSize=100*parseFloat(n),t.target=t.target?new G.default(t.target):this.getWorkspaceCenter();var i=this.getRelativePosition(t.target,e);this.position=new G.default(i.x*this.scale-t.target.x,i.y*this.scale-t.target.y),this.redraw()}},{key:"center",value:function(){this.move(this.getWorkspaceCenter().neg())}},{key:"fit",value:function(){var t=this.elements.bbox.getBoundingClientRect(),e=t.width/this.scale,n=t.height/this.scale;if(e&&n){var i=2*this.settings.fitPadding,r=(this.elements.blueprint.offsetWidth-i)/e,o=(this.elements.blueprint.offsetHeight-i)/n,s=Math.min(r,o);this.zoom(s);var a=this.elements.blueprint.getBoundingClientRect();t=this.elements.bbox.getBoundingClientRect(),e=(a.width-t.width)/2,n=(a.height-t.height)/2,this.pan({x:-t.left+a.left+e,y:-t.top+a.top+n})}else this.center()}},{key:"createElement",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,v.createSVGElement)(t,K({"stroke-width":null,stroke:this.settings.stroke,fill:this.settings.fill,style:{"stroke-width":null,stroke:null,fill:null}},e))}},{key:"append",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.createElement(t,e);return this.elements.bbox.appendChild(n),n}},{key:"remove",value:function(t){"string"==typeof t&&(t=this.elements.bbox.querySelector(t)),this.elements.bbox.removeChild(t)}}])&&Z(e.prototype,n),t}();X.default=nt;var it={};Object.defineProperty(it,"__esModule",{value:!0}),Object.defineProperty(it,"settings",{enumerable:!0,get:function(){return rt.default}}),Object.defineProperty(it,"Blueprint",{enumerable:!0,get:function(){return ot.default}});var rt=st(n),ot=st(X);function st(t){return t&&t.__esModule?t:{default:t}}return e.m["svg-blueprint"]=it,e}("function"==typeof require?require:void 0);